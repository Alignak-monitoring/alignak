cfg_dir=default

; Allow spaces in commands
define command{
    command_name            check_snmp_int
    command_line            $USER1$/check_snmp_int.pl -H $HOSTADDRESS$ -C $ARG1$ -n $ARG2$ -r -f -k -Y -B -w $ARG3$ -c $ARG4$
}

define service{
    use                     generic-service
    host_name               test_host_0
    service_description     svc_spaces
    check_command           check_snmp_int!public!"Nortel Ethernet Routing Switch 5530-24TFD Module - Port 2          "!"90000,90000"!"120000,120000"
}

; Allow semi-colon in commands
define command{
    command_name            eventhandler_dot
    command_line            $USER1$/test_eventhandler.pl $ARG1$
}

; Poller tag
define command{
    command_name            command_poller_tag
    command_line            $USER1$/test_eventhandler.pl $ARG1$
    poller_tag              tag1
}

; Reactionner tag
define command{
    command_name            command_reactionner_tag
    command_line            $USER1$/test_eventhandler.pl $ARG1$
    reactionner_tag         tag2
}

define service{
  active_checks_enabled     1
  check_command             check_service!ok
  check_interval            1
  host_name                 test_host_0
  retry_interval            1
  service_description       svc_semi_colon
  use                       generic-service
  event_handler             eventhandler_dot!sudo -s pkill toto \; cd /my/path && ./exec
}

; Allow CSS/HTML in commands
define command{
    command_name	        host-notify-by-email-html
    command_line            /usr/bin/printf "%b" "MIME-Version: 1.0 \n\
Content-Type: text/html \n\
Content-Disposition: inline \n\
From: email@example.com \n\
To: $CONTACTEMAIL$ \n\
Subject: $HOSTALIAS$ is $HOSTSTATE$ (HOST $NOTIFICATIONTYPE$) \n\
<html><head><meta http-equiv=\"Content-Type\" content=\"text/html\"><style type=\"text/css\"> \
		  body, td {text-align: center} \n\
		  table {margin: 0px auto} \n\
		  table {width: 500px} \n\
		  table {border: 1px solid black} \n\
		  td.customer {background-color: #004488} \n\
		  td.customer {color: white} \n\
		  td.customer {font-size: 12pt} \n\
		  th {white-space: nowrap} \n\
		  th, td.output {text-align: left} \n\
		  tr.even th {background-color: #D9D9D9} \n\
		  tr.even td, tr.odd th {background-color: #F2F2F2} \n\
		  tr.odd td {background-color: white} \n\
		  td.ACKNOWLEDGEMENT {background-color: blue} \n\
		  td.PROBLEM {background-color: red} \n\
		  td.RECOVERY {background-color: green} \n\
		  span.WARNING, span.UNKNOWN {color: orange} \n\
		  span.CRITICAL, span.DOWN, span.UNREACHABLE {color: red} \n\
		  span.OK, span.UP {color: green} \n\
		  td.output {padding: 15px 10px} \n\
</style> \
<title>$HOSTALIAS$ is $HOSTSTATE$ (HOST $NOTIFICATIONTYPE$)</title></head> \n\
<body><table> \
	      <tr><td colspan=2 class=$NOTIFICATIONTYPE$><b>HOST $NOTIFICATIONTYPE$</b></td></tr> \
	      <tr class=odd><th>Host:</th><td><b>$HOSTALIAS$</b></td></tr> \
	      <tr class=even><th>Host State:</th><td><span class=$HOSTSTATE$><b>$HOSTSTATE$</b></span> <i>for</i> $HOSTDURATION$</td></tr> \
	      <tr class=odd><th>Host IP:</th><td>$HOSTADDRESS$</td></tr> \
	      <tr class=even><th>Date, Time:</th><td>$LONGDATETIME$</td></tr> \
	      <tr><td colspan=2 class=output><i><p>$HOSTOUTPUT$</p><p>$LONGHOSTOUTPUT$</p></i></td></tr> \
	      <tr><td colspan=2 class=output><p>$HOSTACTIONURL$</p></td></tr>\
	      <tr><td colspan=2 class=customer><b>OUR COMPANY</b></td></tr> \
</table></body></html>" | sendmail -v -t
}
