# For kiosks monitoring ...

###########################################################
# Services templates definition
###########################################################
# For services monitored passively using NSCA ...
define service {
   name                                nsca-service
   use                                 generic-service
   register                            0

   check_command                       _internal_service_check!0!$HOSTNAME$!$SERVICEDESC$!%d

   # Notification part
   notifications_enabled               1
      ; Service notifications are enabled
   notification_options                w,u,c,r,f,s
      ; Send notifications about warning, unknown, critical, and recovery events + downtime/flapping
   notification_interval               720
      ; Re-notify about service problems every 12 hours
   notification_period                 24x7
      ; Always ...

   # Check part
   check_interval                    	15
      ; Check the service every 15 minutes in normal state
;   retry_interval                    	5
;      ; Re-check the service every 5 minutes until a hard state can be determined
;   max_check_attempts                	2
;      ; Re-check the service up to 3 times in order to determine its final (hard) state
   check_period                      	24x7
      ; The service can be checked at any time of the day

   active_checks_enabled               0
      ; Active service checks are disabled
   passive_checks_enabled              1
      ; Passive service checks are enabled/accepted
   is_volatile                         0
      ; Not a volatile state service
   flap_detection_enabled              1
      ; Detect flapping

   # No default freshness check for the services
   check_freshness                     0
   freshness_threshold                 0
   freshness_state                     x
}

###########################################################
# Hosts templates definition
###########################################################
# Specific host : a kiosk monitored passively ...
define host {
   name                                nsca-host
   use                                 generic-host
   register                            0

   hostgroups                          +nsca-host

   # Check part
   check_period                        24x7
      ; The service can be checked at any time of the day
;   check_interval                      15
;      ; Check the host every 15 minutes in normal state
;   retry_interval                      5
;      ; Re-check the service every 5 minutes until a hard state can be determined
   max_check_attempts                  2
      ; Re-check the service up to 3 times in order to determine its final (hard) state

   # Check always passively
   active_checks_enabled               0
      ; Active service checks are disabled
   passive_checks_enabled              1
      ; Passive service checks are enabled/accepted

   # Checks must have been received within last 1 hour...
   check_freshness                     1
   freshness_threshold                 3600
   freshness_state                     d
}
